{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u041F\\u0430\\u043F\\u043A\\u0430\\\\Users\\\\Administrator\\\\Desktop\\\\V \\u0441\\u0435\\u043C\\u0435\\u0441\\u0442\\u0440\\\\Front-end\\\\MKR\\\\MKRL\\\\client\\\\src\\\\contexts\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { fetchCurrentUser } from \"../api/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext(null);\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [credentials, setCredentials] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (credentials) {\n      fetchCurrentUser(credentials).then(user => {\n        setCurrentUser(user);\n        setLoading(false);\n      }).catch(() => {\n        setCredentials(null);\n        setCurrentUser(null);\n        setLoading(false);\n      });\n    } else {\n      setCurrentUser(null);\n      setLoading(false);\n    }\n  }, [credentials]);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      credentials,\n      setCredentials,\n      currentUser,\n      setCurrentUser,\n      loading\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"cvCJDUBLwoWivksoZkCoAkTOu1g=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","fetchCurrentUser","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","credentials","setCredentials","currentUser","setCurrentUser","loading","setLoading","then","user","catch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Папка/Users/Administrator/Desktop/V семестр/Front-end/MKR/MKRL/client/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\nimport { fetchCurrentUser } from \"../api/users\";\r\n\r\nexport const AuthContext = createContext(null);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [credentials, setCredentials] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (credentials) {\r\n      fetchCurrentUser(credentials)\r\n        .then((user) => {\r\n          setCurrentUser(user);\r\n          setLoading(false);\r\n        })\r\n        .catch(() => {\r\n          setCredentials(null);\r\n          setCurrentUser(null);\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setCurrentUser(null);\r\n      setLoading(false);\r\n    }\r\n  }, [credentials]);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        credentials,\r\n        setCredentials,\r\n        currentUser,\r\n        setCurrentUser,\r\n        loading,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,gBAAgB,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,IAAI,CAAC;AAE9C,OAAO,MAAMO,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAIQ,WAAW,EAAE;MACfP,gBAAgB,CAACO,WAAW,CAAC,CAC1BM,IAAI,CAAEC,IAAI,IAAK;QACdJ,cAAc,CAACI,IAAI,CAAC;QACpBF,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,CACDG,KAAK,CAAC,MAAM;QACXP,cAAc,CAAC,IAAI,CAAC;QACpBE,cAAc,CAAC,IAAI,CAAC;QACpBE,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC;IACN,CAAC,MAAM;MACLF,cAAc,CAAC,IAAI,CAAC;MACpBE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACL,WAAW,CAAC,CAAC;EAEjB,oBACEL,OAAA,CAACC,WAAW,CAACa,QAAQ;IACnBC,KAAK,EAAE;MACLV,WAAW;MACXC,cAAc;MACdC,WAAW;MACXC,cAAc;MACdC;IACF,CAAE;IAAAN,QAAA,EAEDA;EAAQ;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACf,EAAA,CApCWF,YAAY;AAAAkB,EAAA,GAAZlB,YAAY;AAAA,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}